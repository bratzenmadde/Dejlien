@model DejlienApp.Models.ProfileViewModel

@{
    ViewBag.Title = "PersonalUserSite";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<head><link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons"></head>
<h1>
    <img src="@Url.Action("UserPhotos", "Account", new { ProfileId = Model.Profile.Id} )" style="width:160px;height:160px; background: #FFFFFF;
    margin: auto;
    -moz-border-radius: 60px;
    border-radius: 100px;
    padding: 6px;
    box-shadow: 0px 0px 20px #888;" />
</h1>
<br />
@if (Model.Profile.UserAccount.Email != User.Identity.Name)
{
    <button style="font-size:24px">Add to contacts <i class="material-icons">person_add</i></button>
}

<h1>@Html.DisplayFor(model => model.Profile.Name)</h1>

<tr>
    <td>
        <p>Name: @Html.DisplayFor(model => model.Profile.Name)</p>
    </td>
    <td>
        <p>Age: @Html.DisplayFor(model => model.Profile.Age)</p>
    </td>
    <td>
        <p>Location: @Html.DisplayFor(model => model.Profile.Location)</p>
    </td>
    <td>
        <p>Searching for: @Html.DisplayFor(model => model.Profile.SearchingFor)</p>
    </td>
    <td>
        <p>Idenifies as: @Html.DisplayFor(model => model.Profile.Gender)</p>
        <br />
    </td>
    <td>
        <p>About @Html.DisplayFor(model => model.Profile.Name):</p>
        @Html.DisplayFor(model => model.Profile.Description)
        <br />
    </td>
</tr>

@using (Html.BeginForm("Create", "Post", null, FormMethod.Post, new { enctype = "multipart/form-data" }))
{
    @Html.AntiForgeryToken()

    <div class="form-horizontal">
        <h4>Wall of LOVE</h4>
        <hr />
        @Html.ValidationSummary(true, "", new { @class = "text-danger" })
        <div class="form-group">
            <div class="col-md-10">
                @Html.EditorFor(model => model.PostIndexViewModel.Post.Text, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.PostIndexViewModel.Post.Text, "", new { @class = "text-danger" })
            </div>
        </div>
        @*@Html.Label("Image", new { @class = "control-label col-md-2" })
        <div class="col-md-10">
            <input type="file" name="upload" />
        </div>*@
        <div class="form-group">
            <div class="col-md-offset-2 col-md-10">
                <input type="submit" value="Create" class="btn btn-default" />
            </div>
        </div>
    </div>
}


<table class="table">
    @if (Model.PostIndexViewModel.Posts != null)
    {
        <tr>
            <p>Previous</p>
            <th>
                @Html.DisplayFor(model => model.PostIndexViewModel.Post.Text)
            </th>
        </tr>

        foreach (var item in Model.PostIndexViewModel.Posts)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.Author.Name): @Html.DisplayFor(modelItem => item.Text)
                </td>
                <td>
                    <img src="@Url.Action("Image", new { id = item.Id })" />
                </td>
            </tr>
        }
    }
    else
    {
        <p>There is no love at the moment... please love me!</p>
    }
</table>


@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
}
